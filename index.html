<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lufthansa Helper</title>
<style>
body {
  margin:0; font-family:Inter, sans-serif;
  background:linear-gradient(160deg,#041026,#06263a); color:#eaf4ff;
}
.splash {
  position:fixed; inset:0; display:flex; flex-direction:column;
  align-items:center; justify-content:center;
  background:rgba(0,6,18,0.95); z-index:1000;
}
.modal {
  position:fixed; inset:0; display:none; align-items:center; justify-content:center;
  background:rgba(0,0,0,0.6); z-index:2000;
}
.modal-content {
  background:#072022; padding:20px; border-radius:12px; width:300px;
}
.btn {padding:10px 16px; border:none; border-radius:8px; font-weight:800; cursor:pointer;}
.btn-primary {background:#ffd54a; color:#072022;}
.btn-neutral {background:#333; color:#fff;}
#inlineTour {display:none; margin:20px; padding:20px; background:#06263a; border-radius:12px;}
</style>
</head>
<body>

<!-- Splash -->
<div id="splash" class="splash">
  <h2>Welcome to Lufthansa Group</h2>
  <p>Демо интерфейс</p>
  <button id="splashContinue" class="btn btn-primary">Дальше</button>
</div>

<!-- Gate Modal -->
<div id="gateModal" class="modal">
  <div class="modal-content">
    <h3>Вход в систему</h3>
    <p>Введите позывной и пароль. Кодовое слово: <b>quickaccess2025</b></p>
    <input id="loginCall" placeholder="Позывной" style="width:100%;margin:6px 0;">
    <input id="loginPass" type="password" placeholder="Пароль" style="width:100%;margin:6px 0;">
    <div style="margin-top:10px;display:flex;justify-content:space-between;">
      <button id="btnLogin" class="btn btn-primary">Войти</button>
      <button id="btnDemoQuick" class="btn btn-neutral">Быстрый вход</button>
    </div>
  </div>
</div>

<!-- Confirm Modal -->
<div id="confirmModal" class="modal">
  <div class="modal-content">
    <h3>Подтвердить рейс</h3>
    <p id="confirmDetails"></p>
    <div style="margin-top:10px;display:flex;justify-content:space-between;">
      <button id="confirmCancel" class="btn btn-neutral">Отменить</button>
      <button id="confirmAccept" class="btn btn-primary">Подтвердить</button>
    </div>
  </div>
</div>

<!-- Inline Tour -->
<div id="inlineTour">
  <h3>Инструкция</h3>
  <p>1) Введите позывной и пароль<br>
     2) Выберите авиакомпанию<br>
     3) Нажмите «Сгенерировать»<br>
     4) Подтвердите рейс</p>
</div>

<!-- Main Interface -->
<div id="mainApp" style="display:none; padding:20px;">
  <h2>Lufthansa Helper</h2>
  <button id="genBtn" class="btn btn-primary">Сгенерировать рейс</button>
</div>

<script>
let SESSION = {pilotId:null};
const CODEWORD = "quickaccess2025";

// Splash → Gate
document.getElementById('splashContinue').onclick = ()=>{
  document.getElementById('splash').style.display='none';
  document.getElementById('gateModal').style.display='flex';
};

// Login
document.getElementById('btnLogin').onclick = ()=>{
  const call = document.getElementById('loginCall').value.trim();
  const pass = document.getElementById('loginPass').value.trim();
  if(!call || !pass){ alert("Введите данные"); return; }
  if(pass===CODEWORD){
    SESSION.pilotId = call;
    document.getElementById('gateModal').style.display='none';
    document.getElementById('inlineTour').style.display='block';
    document.getElementById('mainApp').style.display='block';
  } else { alert("Неверный пароль"); }
};
document.getElementById('btnDemoQuick').onclick = ()=>{
  document.getElementById('loginCall').value="DEMO";
  document.getElementById('loginPass').value=CODEWORD;
  document.getElementById('btnLogin').click();
};

// Generate → Confirm
document.getElementById('genBtn').onclick = ()=>{
  document.getElementById('confirmDetails').textContent =
    "Рейс LH-A320 · EDDF → EGLL · Пилот "+SESSION.pilotId;
  document.getElementById('confirmModal').style.display='flex';
};

// Confirm actions
document.getElementById('confirmAccept').onclick = ()=>{
  alert("Рейс подтверждён!");
  document.getElementById('confirmModal').style.display='none';
};
document.getElementById('confirmCancel').onclick = ()=>{
  document.getElementById('confirmModal').style.display='none';
};
</script>
</body>
</html>
